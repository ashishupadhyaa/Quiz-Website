{% extends 'base.html' %}
{% block title %}QUIZ{% endblock %}
{% block body %}
<!-- defining the navbar of the quiz page where question will be shown -->
<nav class="navbar navbar-light" style="background-color: #e3f2fd;">
    <ul class="navbar-brand"><u><b>Practice Quiz</b></u></ul>
    <ul class="nav navbar-nav navbar-right">
        <li class="">
            <div class="timer">
    			<p id="time"></p> <!-- shows the time chosen by candidate -->
    		</div>
        </li>
    </ul>
</nav>

<!-- Questions will be shown in this form -->
<form style="width: 900px; margin: auto;" class="needs-validation" method="post" novalidate>
<!-- defining for loop to iterate through each question -->
{% for i in range(lengt) %}
	<div class="form-group">
		<p>{{ data[i]['question'] }}</p>
		<!-- defining for loop to iterate through each option of the question -->
		{% for j in range(len1) %}
			<div class="custom-control custom-radio">
  				<input type="radio" class="custom-control-input" id="Example{{ data[i]['ids'][j] }}" name="question{{ i+1 }}" value="{{ data[i]['options'][j] }}" required>
  				<label class="custom-control-label" for="Example{{ data[i]['ids'][j] }}" name="question{{ i+1 }}">{{ data[i]['options'][j] }}</label>
			</div>
		{% endfor %}
	<div class="invalid-feedback">Fill in this Field.</div>
	</br></br>
	</div>
{% endfor %}
<p>----------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<!-- 'div' for checkbox -->
<div class="form-check">
	<input type="checkbox" name="terms" class="form-check-input" required>
	<label><b>This quiz is done according to my knowledge.</b></label>
	<div class="invalid-feedback">Tick this box.</div>
</div>

<!-- adding button to the form -->
<button class="btn btn-success btn-lg float-right" type="submit">Submit</button>
</br></br></br></br></br></br>
</form>

<!-- scripts for showing time in top right corner continuously -->
<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/timer.js') }}"></script>
<script>
	var Seconds = {{ num }};
</script>

<!-- To Validate Form On Run-Time -->
<script type="text/javascript">
		
	var form = document.querySelector('.needs-validation');
	form.addEventListener('submit', function(event){
		if(form.checkValidity() === false) {
			event.preventDefault();
			event.stopPropagation();
		}
		form.classList.add('was-validated');
	})

</script>

{% endblock %}